#include <stdio.h>
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <unistd.h>
#include "libmisc.h"


// /////////////////////////////////////////////////////////////////////////////
//    Macro declarations
// /////////////////////////////////////////////////////////////////////////////


// /////////////////////////////////////////////////////////////////////////////
//    Type declarations
// /////////////////////////////////////////////////////////////////////////////


// /////////////////////////////////////////////////////////////////////////////
//    Variables declarations
// /////////////////////////////////////////////////////////////////////////////

/* 0: disable, 1: enable log output */
static int _logOutput = 1;


// /////////////////////////////////////////////////////////////////////////////
//    Functions
// /////////////////////////////////////////////////////////////////////////////

/**
 * Log output option.
 * @param [in]  enable  Enable or disable log output.
 */
void log_option(int enable)
{
    _logOutput = enable;
}

/**
 * Log print function.
 * @param [in]  pPrefix  Log prefix.
 * @param [in]  pFormat  Print format.
 */
void log_print(char *pPrefix, char *pFormat, ...)
{
    va_list args;

    if ( _logOutput )
    {
        printf("[%s] ", pPrefix);

        va_start(args, pFormat);
        vprintf(pFormat, args);
        va_end( args );
    }
}

